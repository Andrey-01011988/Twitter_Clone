Docker Compose — это инструмент для определения и запуска многоконтейнерных Docker приложений. Он использует файл `docker-compose.yml` для конфигурации сервисов, сетей и томов. Вот основные команды Docker Compose и их описания:

### 1. `docker-compose up`

**Описание**: Запускает контейнеры, определенные в `docker-compose.yml`. Если контейнеры не существуют, они будут созданы. Эта команда также создает сети и тома, если они указаны.

**Примеры использования**:
- `docker-compose up` — запускает все сервисы в фоновом режиме.
- `docker-compose up -d` — запускает все сервисы в фоновом режиме (detached mode).

### 2. `docker-compose down`

**Описание**: Останавливает и удаляет все контейнеры, созданные командой `up`, а также сети и тома, если они не используются другими контейнерами.

**Примеры использования**:
- `docker-compose down` — останавливает и удаляет все контейнеры.
- `docker-compose down --volumes` — также удаляет тома.

### 3. `docker-compose build`

**Описание**: Строит или перестраивает образы для сервисов, определенных в `docker-compose.yml`. Эта команда используется, если вы изменили Dockerfile или контекст сборки.

**Примеры использования**:
- `docker-compose build` — строит образы для всех сервисов.
- `docker-compose build <service_name>` — строит образ только для указанного сервиса.

### 4. `docker-compose logs`

**Описание**: Выводит логи всех контейнеров или конкретного контейнера.

**Примеры использования**:
- `docker-compose logs` — показывает логи всех сервисов.
- `docker-compose logs <service_name>` — показывает логи только указанного сервиса.
- `docker-compose logs -f` — следит за логами в реальном времени.

### 5. `docker-compose ps`

**Описание**: Показывает список запущенных контейнеров и их статус.

**Примеры использования**:
- `docker-compose ps` — выводит список всех контейнеров, связанных с текущим проектом.

### 6. `docker-compose exec`

**Описание**: Выполняет команду в работающем контейнере.

**Примеры использования**:
- `docker-compose exec <service_name> <command>` — выполняет указанную команду в контейнере сервиса.
- Например, `docker-compose exec web bash` — открывает оболочку bash в контейнере сервиса "web".

### 7. `docker-compose stop`

**Описание**: Останавливает работающие контейнеры без их удаления. Это позволяет позже запустить их снова без необходимости пересоздания.

### 8. `docker-compose start`

**Описание**: Запускает остановленные контейнеры, которые были созданы ранее с помощью команды `up`.

### 9. `docker-compose restart`

**Описание**: Перезапускает работающие контейнеры. Это полезно для применения изменений конфигурации или обновлений кода без полной остановки приложения.

### 10. `docker-compose config`

**Описание**: Проверяет и выводит конфигурацию проекта в формате YAML. Это полезно для проверки синтаксиса файла `docker-compose.yml`.

### Заключение

Эти команды являются основными инструментами для работы с Docker Compose и позволяют вам управлять многоконтейнерными приложениями эффективно. Убедитесь, что вы используете правильные команды в зависимости от ваших потребностей при разработке и развертывании приложений с использованием Docker Compose.

### 11. `docker-compose down -v --rmi all`
Команда `docker-compose down -v --rmi all` выполняет несколько действий, связанных с управлением ресурсами Docker Compose. Вот подробное описание каждого элемента команды:

1. **`docker-compose down`**: Эта команда останавливает и удаляет все контейнеры, сети и тома, созданные с помощью команды `docker-compose up`. Это позволяет очистить ресурсы, связанные с вашим проектом.

2. **`-v`**: Этот флаг указывает на необходимость удаления всех томов, связанных с контейнерами. Это включает как именованные тома, так и анонимные тома, которые были созданы при запуске контейнеров. Использование этого флага обеспечивает полное очищение среды, включая данные, хранящиеся в томах.

3. **`--rmi all`**: Этот параметр указывает на удаление всех образов, которые использовались любыми сервисами в вашем `docker-compose.yml` файле. Это означает, что не только контейнеры и сети будут удалены, но и все образы, связанные с проектом, что может быть полезно для освобождения места на диске или подготовки к новому развертыванию.

В результате выполнения этой команды вы получите полное очищение всех ресурсов, связанных с вашим проектом Docker Compose, включая:
- Остановку и удаление всех контейнеров.
- Удаление всех сетей.
- Удаление всех томов.
- Удаление всех образов, используемых сервисами.

Это полезно в ситуациях, когда вы хотите полностью сбросить состояние вашего проекта или освободить ресурсы после завершения работы.

Citations:
[1] https://dockerlabs.collabnix.com/intermediate/workshop/DockerCompose/down_command.html
[2] https://docs.docker.com/reference/cli/docker/compose/down/
[3] https://www.geeksforgeeks.org/docker-compose-up-down-stop-start-difference/
[4] https://www.warp.dev/terminus/docker-compose-down
[5] https://ioflood.com/blog/docker-compose-down-guide-to-stopping-and-removing-docker-containers/
[6] https://stackoverflow.com/questions/46428420/docker-compose-up-down-stop-start-difference
[7] https://forums.docker.com/t/docker-compose-down-what-does-it-exactly-do/99054
[8] https://spacelift.io/blog/docker-stop-container